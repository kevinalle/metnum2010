\documentclass[12pt,titlepage]{article}
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{caratulaMetNum}
\usepackage{float}
\usepackage{subfigure}
\usepackage{listings}
\usepackage{float}
\lstset{language=C,basicstyle=\small\tt,keywordstyle=\bf,tabsize=3,breaklines=true,linewidth=16cm,postbreak={\mbox{$\rightsquigarrow$}},prebreak={\mbox{$\rightsquigarrow$}}}

 \usepackage{a4wide}
% \usepackage{amssymb}
% \usepackage{amsmath}
 \usepackage{enumerate}
% \usepackage[utf8]{inputenc}
% \usepackage[spanish]{babel}
% \parindent = 0 pt
 \parskip = 11 pt
% \usepackage[width=15.5cm, left=3cm, top=2.5cm, height= 24.5cm]{geometry}

\usepackage{color}
\usepackage{url}
\definecolor{lnk}{rgb}{0,0,0.4}
\usepackage[colorlinks=true,linkcolor=lnk,citecolor=blue,urlcolor=blue]{hyperref}

\newcommand{\func}[2]{\texttt{#1}(#2) :}
\newcommand{\tab}{\hspace*{2em}}
\newcommand{\FOR}{\textbf{for }}
\newcommand{\TO}{\textbf{ to }}
\newcommand{\IF}{\textbf{if }}
\newcommand{\WHILE}{\textbf{while }}
\newcommand{\THEN}{\textbf{then }}
\newcommand{\ELSE}{\textbf{else }}
\newcommand{\RET}{\textbf{return }}
\newcommand{\MOD}{\textbf{ \% }}
\newcommand{\OR}{\textbf{ or }}
\newcommand{\NOT}{\textbf{ not }}
\newcommand{\tOde}[1]{\tab \small{\mathcal{O}($#1$)}}
\newcommand{\Ode}[1]{\ensuremath{\small{\mathcal{O}\left(#1\right)}}}
\newcommand{\VSP}{\vspace*{3em}}
\newcommand{\Pa}{\vspace{5mm}}
\newenvironment{pseudo}{\noindent\begin{tabular}{ll}}{\end{tabular}\VSP}

\newenvironment{while}{\WHILE \\ \setlength{\leftmargin}{0em} }{}

\newcommand{\iif}{\Leftrightarrow}
\newcommand{\gra}[1]{\noindent\includegraphics[scale=.70]{#1}\\}
\newcommand{\gras}[2]{\noindent\includegraphics[scale=#2]{#1}\\}
\newcommand{\gram}[1]{\noindent\includegraphics[scale=.50]{#1}}
\newcommand{\dirmail}[1]{\normalsize{\texttt{#1}}}
\newenvironment{usection}[1]{\newpage\begin{section}*{#1}	\addcontentsline{toc}{section}{#1}}{\end{section}}
\newenvironment{usubsection}[1]{\begin{subsection}*{#1}	\addcontentsline{toc}{subsection}{#1}}{\end{subsection}}

\newcommand{\superref}[1]{\textsuperscript{\ref{#1}}}

%\title{{\sc\normalsize Métodos Numéricos}\\{\bf Trabajo Práctico Nº1}}
%\author{\begin{tabular}{lcr}Pablo Herrero & LU & \dirmail{pablodherrero@gmail.com}\\Thomas Fischer & 489/08 & \dirmail{tfischer@dc.uba.ar}\\Kevin Allekotte & 490/08 & \dirmail{kevinalle@gmail.com} \end{tabular}}
%\date{\VSP \normalsize{Abril 2010}}
\begin{document}

\materia{Métodos Numéricos}
\titulo{Trabajo Práctico Nº3}
\subtitulo{¡El TP del Mundial!}
%\grupo{Grupo x}
\integrante{Thomas Fischer}{489/08}{tfischer@dc.uba.ar}
\integrante{Kevin Allekotte}{490/08}{kevinalle@gmail.com}
\integrante{Pablo Herrero}{332/07}{pablodherrero@gmail.com}

\abstracto{
	Tsamina mina eh eh
	Waka Waka eh eh
}

\palabraClave{Waka}
\palabraClave{Waka}
\palabraClave{eh}
\palabraClave{eh}

\begin{titlepage}
\maketitle
\end{titlepage}
\tableofcontents
\newpage

	\begin{usection}{Introducción teorica}
		El objetivo de este trabajo práctico es usar los métodos de interpolación y aproximación de funciones vistos en la materia para predecir el curso de una trayectoria.
		La trayectoria está dada por puntos en el plano en intervalos de tiempo discretos, que pueden tener errores de aproximación pero en general describen una curva suave.
		
		Los métodos que vamos a usar en este trabajo están basados en Splines y/o cuadrados mínimos.
		
		Splines es un método de interpolación. Genera una curva suave que pasa exactamente por los puntos dados.
		Esta curva está formada por muchos polinomios cúbicos que se tocan en los puntos interpolados y además los pedazos consecutivos coinciden en la derivada y en la derivada segunda.
		La variante de splines que implementamos es el Spline cúbico natural, que también cumple la propiedad de que la derivada segunda en los extremos es 0.
		
		Cuadrados mínimos es una técnica para encontrar los coeficientes de una función que aproxime a los puntos dados.
		A diferencia de splines, genera una curva suave que no necesariamente pasa por los puntos, pero los aproxima lo mejor posible.
		Por esto es más apropiado para cuando los datos no son exactos, pero la desventaja es que hay que conocer o adivinar el tipo de función.
		En el trabajo sólo vamos a usar este método para aproximar las curvas con funciones polinómicas de distintos grados.
		
		Observamos que los métodos están definidos para funciones y no para trayectorias. Podemos entonces separar nuestra trayectoria en $x(t)$ y $y(t)$ y trabajar con estas funciones.
	\end{usection}


	\begin{usection}{Desarrollo}
		Comenzamos por implementar los métodos de splines y cuadrados mínimos para poder hacer pruebas de su comportamiento para después aplicarlo a nuestro objetivo.
		Desarrollamos interfaces gráficas para ver las curvas que se estaban generando a partir de los puntos de la trayectoria.
		En la figura \ref{fig:cmspline} se observa como interpolan una secuencia de puntos los dos métodos.
		
		Vemos que cuadrados mínimos es útil para filtrar errores en los daots de entrada porque no tiene la condición de tener que pasar exactamente por los puntos.
		Genera un polinomio que aproxima muy bien a la trayectoria, siempre que se le pide el grado correcto.
		Si le pidieramos que aproxime una función con un grado demasiado bajo, no se va a ajustar correctamente y el polinomio resultante no representaría a la funcion.
		En cambio si el grado es demasiado grande, aparecerán oscilaciones inesperadas.
		
		\begin{figure}[H]
			\centering
			\subfigure{
				\includegraphics[scale=0.6]{img/cm_spline.png}
				%\label{fig:cm_spline1}
			}
			\subfigure{
				\includegraphics[scale=0.6]{img/cm_spline2.png}
				%\label{fig:cm_spline2}
			}
			\caption{
				Arriba: Interpolación de puntos de una trayectoria con cuadrados mínimos (grado 4) y splines.
				Abajo: Interpolación con cuadrados mínimos y splines de $x(t)$ y $y(t)$ de la misma trayectoria.
			}
			\label{fig:cmspline}
		\end{figure}
		
		El trabajo requería un método para predecir el curso de la trayectoria, y es por eso que nos interesa extrapolar las funciones pedidas.
		En el caso de cuadrados mínimos la extrapolación la tomamos simplemente como la continuación del polinomio para los valores más altos.
		Así, dados los puntos de una trayectoria, separamos ésta en dos funciones ($x(t)$ y $y(t)$), aplicamos cuadrados mínimos sobre cada función y obtenemos polinomios que aproximan a $x$ e $y$.
		Para estimar la trayectoria en un punto futuro $t$, simplemente evaluamos los 2 polinomios en ese $t$ y obtenemos una posición.
		
		Con Splines podemos hacer algo parecido. La diferencia es que no devuelve una función global para toda la función, sino que genera una curva formada por muchos polinomios cúbicos.
		Para extrapolar decidimos usar el último o anteúltimo polinomio de la secuencia (más detalles en discusión). Para un $t$ futuro evaluamos $SX_i$ y $SY_i$ en $t$, siendo $i=n$ ó $n-1$.
		
		En la figura \ref{fig:extrap} vemos el comportamiento de las curvas obtenidas de los métodos para tiempos futuros con la técnica recien descripta.
		Entre otras cosas, vemos que el resultado de splines es muy sensible a variaciones en las posiciones de los puntos, pero en el caso general describe mejor lo que se esperaría del futuro de la trayectoria.
		Cuadrados mínimos funciona bien cuando el grado del polinomio es aproximadamente la cantidad de curvas de la trayectoria.

		\begin{figure}[H]
			\centering
			\includegraphics[scale=0.75]{img/extrap.png}
			\caption{
				Extrapolación de trayectorias con cuadrados mínimos de grado 3 o 4 (negro) y con splines (rojo).
			}
			\label{fig:extrap}
		\end{figure}
	\end{usection}
	
	En la versión final, para adivinar el futuro de la trayectoria solamente utilizamos cuadrados mínimos.
	Además definimos estrategias alternativas para cuando no disponemos de suficientes daots para extrapolar con este método.
	
	Si tenemos entre 2,3 o 4 puntos los aproximamos por un polinomio de grados 1,2,3 respectivamente y extrapolamos para calcular en que parte de la linea de gol va a llegar.
	Con más puntos primero los suavizamos. Para esto los aproximamos con un polinomio de grado a lo sumo 6 con cuadrados mínimos, y luego utilizamos para el resto del cálculo los puntos sobre esta curva con $t$ entero.
	Decidimos utilizar solamente los 6 últimos puntos del paso anterior, porque consideramos que la trayectoria anterior que realizó no nos da informacion relevante.
	A estos 6 puntos los volvemos a someter a cuadrados mínimos, esta vez de grado 2, con el objetivo de encontrar los coeficientes de la curva que está realizando.
	
	
	\begin{usection}{Resultados}
		
	\end{usection}
	
	
	\begin{usection}{Discusión}
		
	\end{usection}
	
	
	\begin{usection}{Conclusiones}
		
	\end{usection}
	
	\begin{usection}{Apéndices}
		\begin{usubsection}{Apéndice A: Enunciado}
			\input{enunciado.tex}
		\end{usubsection}
		
		\newpage
		\begin{usubsection}{Apéndice B: Codigos Fuente}
			
		\end{usubsection}
	\end{usection}
	
	
	\begin{usection}{Referencias}
	\begin{enumerate}
		\item \label{ref:spline} \texttt{http://en.wikipedia.org/wiki/Spline\_(mathematics)} \\ Artículo de wikipedia sobre splines con un pseudocódigo de la implementación de Spline cúbico natural.
		\item \label{ref:waka} \texttt{http://waka-waka} \\ Waka Waka
	\end{enumerate}	
	\end{usection}

\end{document}

